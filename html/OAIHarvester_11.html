<div class="container">

<table style="width: 100%;"><tr>
<td>size</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>OAI-PMH Repository Size</h2>

<h3>Description</h3>

<p>Determine the number of items available for (selective) harvesting in
an OAI repository.
</p>


<h3>Usage</h3>

<pre><code class="language-R">oaih_size(baseurl, from = NULL, until = NULL, set = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>baseurl</code></td>
<td>
<p>a character string giving the base URL of the
repository.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from, until</code></td>
<td>
<p>character strings or Date or
POSIXt date/time objects giving
datestamps to be used as lower or upper bounds, respectively, for
datestamp-based selective harvesting (i.e., only consider records
with datestamps in the given range).  If character, dates and times
must be encoded using ISO 8601 in either ‘<span class="samp">⁠%F⁠</span>’ or
‘<span class="samp">⁠%FT%TZ⁠</span>’ format (see <code>strptime</code>).  The trailing
‘<span class="samp">⁠Z⁠</span>’ must be used when including time.  OAI-PMH implies
<abbr><span class="acronym">UTC</span></abbr> for data/time specifications.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>set</code></td>
<td>
<p>a character vector giving the sets to be considered for
selective harvesting (i.e., only consider records in the given
sets), or <code>NULL</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Determining the number of items without actually harvesting these is
only possible if the repository's flow control mechanism provides
<code>resumptionToken</code> elements with <code>completeListSize</code>
attributes (see
<a href="https://www.openarchives.org/OAI/openarchivesprotocol.html">https://www.openarchives.org/OAI/openarchivesprotocol.html</a>), or
flow control is not applied when listing identifiers in the selected
range.
</p>


<h3>Value</h3>

<p>A numeric giving the number of items available for (selective)
harvesting, or <code>NA_real_</code> if the number could not be determined
without harvesting.
</p>


<h3>Examples</h3>

<pre><code class="language-R">tryCatch({
## Run inside tryCatch() so that checks fail gracefully if OAI-PMH
## requests time out or fail otherwise.
oaih_size("https://www.jstatsoft.org/oai")
## 
}, error = identity)
</code></pre>


</div>