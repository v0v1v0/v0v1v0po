<div class="container">

<table style="width: 100%;"><tr>
<td>od.1.111</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Optimal sample allocation calculation for single-level randomized controlled
trials (RCTs) investigating mediation effects (1-1-1)</h2>

<h3>Description</h3>

<p>The optimal design of single-level RCTs
probing mediation effects is to identify the optimal sample
allocation that use the minimum budget to achieve a fixed level of
statistical power. The optimal design parameter is the proportion of
individuals/units to be assigned to the experimental condition.
This function identifies the optimal <code>p</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">od.1.111(
  a = NULL,
  b = NULL,
  c1 = NULL,
  c1t = NULL,
  m = NULL,
  r.yx = 0,
  r.mx = 0,
  r.mw = 0,
  q.a = 0,
  q.b = 0,
  test = "joint",
  p = NULL,
  n = NULL,
  tol = 1e-11,
  power = 0.8,
  d.p = c(0.1, 0.5),
  sig.level = 0.05,
  two.tailed = TRUE,
  plim = c(0.01, 0.99),
  varlim = c(0, 0.001),
  plab = NULL,
  varlab = NULL,
  vartitle = NULL,
  nlim = c(6, 1e+06),
  verbose = TRUE,
  max.value = Inf,
  max.iter = 300,
  e = 1e-10,
  n.of.ants = 10,
  n.of.archive = 20,
  q = 1e-04,
  xi = 0.5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>The treatment effect on the mediator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>The within-treatment correlation between the outcome and
the mediator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c1</code></td>
<td>
<p>The cost of sampling an individual in the control group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c1t</code></td>
<td>
<p>The cost of sampling an individual in the treated group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>Total budget.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r.yx</code></td>
<td>
<p>The within-treatment correlation between the outcome and the
covariate(s) in the outcome model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r.mx</code></td>
<td>
<p>The within-treatment correlation between the mediator and the
covariate(s) in the outcome model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r.mw</code></td>
<td>
<p>The within-treatment correlation between the mediator and the
covariate(s) in the mediator model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q.a</code></td>
<td>
<p>The number of covariates at the mediator model
(except the treatment indicator), the default value is zero.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q.b</code></td>
<td>
<p>The number of covariates in the outcome model (except the treatment
indicator and the mediator), the default value is zero.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test</code></td>
<td>
<p>The type of test will be used to detect mediation effects.
The default is the joint significance test (i.e., test = "joint",
"Joint","JOINT"). Another choice is the Sobel test by
specifying the argument as test = "sobel", "Sobel", or "SOBEL".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>The proportion of level-4 clusters/units to be assigned to treatment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Total number of individuals in the experimental study, the default
value is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>convergence tolerance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>
<p>Statistical power specified, default is .80.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d.p</code></td>
<td>
<p>The initial sampling domains for p. Default is c(0.10, 0.50).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig.level</code></td>
<td>
<p>Significance level or type I error rate, default value is 0.05.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>two.tailed</code></td>
<td>
<p>Two tailed test, the default value is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plim</code></td>
<td>
<p>The plot range for p, default value is c(0, 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varlim</code></td>
<td>
<p>The plot range for variance, default value is c(0, 0.05).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plab</code></td>
<td>
<p>The plot label for <code>p</code> ,
default value is "Proportion of Individuals in Treatment: p".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varlab</code></td>
<td>
<p>The plot label for variance,
default value is "Variance".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vartitle</code></td>
<td>
<p>The title of variance plot, default value is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nlim</code></td>
<td>
<p>The interval/range used to numerically solve for n,
the default values are c(6, 1e7).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Print out evaluation process if TRUE, default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.value</code></td>
<td>
<p>Maximal value of optimization when used as
the stopping criterion. Default is infinite.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.iter</code></td>
<td>
<p>Maximal number of function evaluations when used as
the stopping criterion. Default is 200.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e</code></td>
<td>
<p>Maximum error value used when solution quality used as
the stopping criterion, default is 1e-10.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.of.ants</code></td>
<td>
<p>Number of ants used in each iteration after
the initialization stage, the default value is 10.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.of.archive</code></td>
<td>
<p>Size of the solution archive, default is 20.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>Locality of the search (0,1), default is 0.0001.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xi</code></td>
<td>
<p>Convergence pressure (0, Inf), suggested: (0, 1), default is 0.5.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Unconstrained or constrained optimal sample allocation <code>p</code>).
The function also returns statistical power,
function name, design type,
and parameters used in the calculation.
</p>


<h3>Examples</h3>

<pre><code class="language-R">myod &lt;- od.1.111(a = .3, b = .5, c1 = 10, c1t = 100)
myod
</code></pre>


</div>