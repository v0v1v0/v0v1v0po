<div class="container">

<table style="width: 100%;"><tr>
<td>onetime</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Run code only once</h2>

<h3>Description</h3>

<p>Onetime allows package authors to run code only once (ever) for a given
user. It does so by writing a file, typically to a folder in the user's
configuration directory as given by <code>rappdirs::user_config_dir()</code>. The
user can set an alternative filepath using <code>options("onetime.dir")</code>.
</p>


<h3>Details</h3>

<p>Core functions include:
</p>

<ul>
<li> <p><code>onetime_do()</code> runs arbitrary code only once.
</p>
</li>
<li> <p><code>onetime_warning()</code> and friends print a warning or message only once.
</p>
</li>
<li> <p><code>onetime_message_confirm()</code> prints a message and asks
"Show this message again?"
</p>
</li>
<li> <p><code>onetime_rlang_warn()</code> and <code>onetime_rlang_inform()</code> print messages using
functions from the rlang package.
</p>
</li>
<li> <p><code>onetime_only()</code> returns a function that runs only once.
</p>
</li>
<li> <p><code>check_ok_to_store()</code> and <code>set_ok_to_store()</code> check for or grant
permission to store lockfiles on the user's computer.
It is package authors' responsibility to check for permission
to store lockfiles. This may have been done already by another package if
onetime was already installed. You can ask permission interactively on
the command line by calling <code>check_ok_to_store()</code> with <code>ask = TRUE</code>.
</p>
</li>
</ul>
<p>For more information, see <code>vignette("onetime")</code>.
</p>


<h4>Example</h4>

<div class="sourceCode r"><pre>library(onetime)

ids  &lt;- paste0("onetime-readme-", 1:3) 

for (i in 1:5) {
  onetime_do(cat("This command will only be run once.\n"), id = ids[1])
  onetime_warning("This warning will only be shown once.", id = ids[2])
  onetime_message("This message will only be shown once.", id = ids[3])
}
</pre></div>
<div class="sourceCode"><pre>## This command will only be run once.

## Warning: This warning will only be shown once.

## This message will only be shown once.
</pre></div>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: David Hugh-Jones <a href="mailto:davidhughjones@gmail.com">davidhughjones@gmail.com</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/hughjonesd/onetime">https://github.com/hughjonesd/onetime</a>
</p>
</li>
<li> <p><a href="https://hughjonesd.github.io/onetime/">https://hughjonesd.github.io/onetime/</a>
</p>
</li>
<li>
<p> Report bugs at <a href="https://github.com/hughjonesd/onetime/issues">https://github.com/hughjonesd/onetime/issues</a>
</p>
</li>
</ul>
</div>