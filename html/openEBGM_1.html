<div class="container">

<table style="width: 100%;"><tr>
<td>openEBGM-package</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>openEBGM: EBGM Disproportionality Scores for Adverse Event Data Mining</h2>

<h3>Description</h3>

<p>An implementation of DuMouchel's (1999) <a href="https://doi.org/10.1080/00031305.1999.10474456">doi:10.1080/00031305.1999.10474456</a> Bayesian data mining method for the market basket problem. Calculates Empirical Bayes Geometric Mean (EBGM) and posterior quantile scores using the Gamma-Poisson Shrinker (GPS) model to find unusually large cell counts in large, sparse contingency tables. Can be used to find unusually high reporting rates of adverse events associated with products. In general, can be used to mine any database where the co-occurrence of two variables or items is of interest. Also calculates relative and proportional reporting ratios. Builds on the work of the 'PhViD' package, from which much of the code is derived. Some of the added features include stratification to adjust for confounding variables and data squashing to improve computational efficiency. Includes an implementation of the EM algorithm for hyperparameter estimation loosely derived from the 'mederrRank' package.
</p>


<h3>Data preparation &amp; squashing functions</h3>

<p>The data preparation function, <code>processRaw</code>, converts raw data
into actual and expected counts for product/event pairs.
<code>processRaw</code> also adds the relative reporting ratio (RR) and
proportional reporting ratio (PRR). The data squashing function,
<code>squashData</code>, implements the simple version of data squashing
described in DuMouchel et al. (2001). Data squashing can be used to reduce
computational burden.
</p>


<h3>Negative log-likelihood functions</h3>

<p>The negative log-likelihood functions (<code>negLL</code>,
<code>negLLsquash</code>, <code>negLLzero</code>, and
<code>negLLzeroSquash</code>) provide the means of calculating the
negative log-likelihoods as mentioned in the DuMouchel papers. DuMouchel
uses the likelihood function, based on the marginal distributions of the
counts, to estimate the hyperparameters of the prior distribution.
</p>


<h3>Hyperparameter estimation functions</h3>

<p>The hyperparameter estimation functions (<code>exploreHypers</code> and
<code>autoHyper</code>) use gradient-based approaches to estimate the
hyperparameters, <code class="reqn">\theta</code>, of the prior distribution (gamma mixture)
using the negative log-likelihood functions from the marginal distributions
of the counts (negative binomial). <code class="reqn">\theta</code> is a vector containing five
parameters (<code class="reqn">\alpha_1</code>, <code class="reqn">\beta_1</code>, <code class="reqn">\alpha_2</code>, <code class="reqn">\beta_2</code>,
and <code class="reqn">P</code>). <code>hyperEM</code> estimates <code class="reqn">\theta</code> using a version
of the EM algorithm.
</p>


<h3>Posterior distribution functions</h3>

<p>The posterior distribution functions calculate the mixture fraction
(<code>Qn</code>), geometric mean (<code>ebgm</code>), and quantiles
(<code>quantBisect</code>) of the posterior distribution. Alternatively,
<code>ebScores</code> can be used to create an object of class openEBGM
that contains the EBGM and quantiles scores. Appropriate methods exist for
the generic functions <code>print</code>,
<code>summary</code>, and <code>plot</code> for openEBGM
objects.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: John Ihrie <a href="mailto:John.Ihrie@fda.hhs.gov">John.Ihrie@fda.hhs.gov</a>
</p>
<p>Authors:
</p>

<ul><li>
<p> Travis Canida <a href="mailto:Travis.Canida@fda.hhs.gov">Travis.Canida@fda.hhs.gov</a>
</p>
</li></ul>
<p>Other contributors:
</p>

<ul>
<li>
<p> Isma√Øl Ahmed (author of 'PhViD' package (derived code)) [contributor]
</p>
</li>
<li>
<p> Antoine Poncet (author of 'PhViD') [contributor]
</p>
</li>
<li>
<p> Sergio Venturini (author of 'mederrRank' package (derived code)) [contributor]
</p>
</li>
<li>
<p> Jessica Myers (author of 'mederrRank') [contributor]
</p>
</li>
</ul>
<h3>References</h3>

<p>Ahmed I, Poncet A (2016). <span class="pkg">PhViD</span>: an R package for
PharmacoVigilance signal Detection. <em>R package version 1.0.8</em>.
</p>
<p>Venturini S, Myers J (2015). <span class="pkg">mederrRank</span>: Bayesian Methods
for Identifying the Most Harmful Medication Errors. <em>R package version
0.0.8</em>.
</p>
<p>DuMouchel W (1999). "Bayesian Data Mining in Large Frequency
Tables, With an Application to the FDA Spontaneous Reporting System."
<em>The American Statistician</em>, 53(3), 177-190.
</p>
<p>DuMouchel W, Pregibon D (2001). "Empirical Bayes Screening for
Multi-item Associations." In <em>Proceedings of the Seventh ACM SIGKDD
International Conference on Knowledge Discovery and Data Mining</em>, KDD '01,
pp. 67-76. ACM, New York, NY, USA. ISBN 1-58113-391-X.
</p>
<p>Evans SJW, Waller P, Davis S (2001). "Use of Proportional
Reporting Ratios (PRRs) for Signal Generation from Spontaneous Adverse Drug
Reaction Reports." <em>Pharmacoepidemiology and Drug Safety</em>, 10(6),
483-486.
</p>
<p>FDA (2017). "CFSAN Adverse Event Reporting System (CAERS)."
URL <a href="https://www.fda.gov/food/compliance-enforcement-food/cfsan-adverse-event-reporting-system-caers">https://www.fda.gov/food/compliance-enforcement-food/cfsan-adverse-event-reporting-system-caers</a>.
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul><li> <p><a href="https://journal.r-project.org/archive/2017/RJ-2017-063/index.html">https://journal.r-project.org/archive/2017/RJ-2017-063/index.html</a>
</p>
</li></ul>
</div>