<div class="container">

<table style="width: 100%;"><tr>
<td>pte.survival</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimates the proportion of treatment effect explained</h2>

<h3>Description</h3>

<p>Estimates the proportion of treatment effect explained by the optimally transformed surrogate
</p>


<h3>Usage</h3>

<pre><code class="language-R">pte.survival(xob, s.ob, deltaob, aob, t, t.0, varind = 0, re = 100)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xob</code></td>
<td>
<p>observed survival time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s.ob</code></td>
<td>
<p>surrogate information at time t.0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deltaob</code></td>
<td>
<p>event indicator</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aob</code></td>
<td>
<p>treatment indicator</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>
<p>time at which the primary outcome is measured</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t.0</code></td>
<td>
<p>time at which the surrogate is measured</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varind</code></td>
<td>
<p>whether to estimate variance (yes=0, no=1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>re</code></td>
<td>
<p>number of replications for resampling, if varind=0</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of the following:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>pte.est</code></td>
<td>
<p>The estimated proportion of treatment effect explained (PTE) by the optimally transformed surrogate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pte.ese</code></td>
<td>
<p>Standard error estimate for the PTE, provided if var.ind=0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>g1.est</code></td>
<td>
<p>Estimated g1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>g1.ese</code></td>
<td>
<p>Standard error estimate for ge, provided if var.ind = 0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sgrid</code></td>
<td>
<p>Grid used for the surrogate marker, equally spaced</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gs.est</code></td>
<td>
<p>Estimated g(s), optimal transformation of s, for the sgrid</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gs.ese</code></td>
<td>
<p>Standard error estimate for g(s), provided if var.ind = 0</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R"># load the data
data("sysdata")

# time at which the surrogate is measured
t.0 = data.example$t.0

# time at which the primary outcome is measured
t = data.example$t

# observed survival time
xob = data.example$data$xob

# surrogate information at t.0
s.ob = data.example$data$s.ob

# event indicator
deltaob = data.example$data$deltaob

# treatment indicator
aob = data.example$data$aob

# main estimation function
# varind: whether to estimate variance; re:number of replications for resampling
out = pte.survival(xob, s.ob, deltaob, aob, t, t.0, varind=0, re=100)

# estimated PTE
out$pte.est

# estimated g1
out$g1.est

# estimated g2(s) at equally spaced s point
plot(out$sgrid, out$gs.est, type="l", xlab = "Surrogate Marker", ylab = "Optimal Transformation")
#The PTE result indicates that this is a moderate to high surrogate marker in this setting.
</code></pre>


</div>