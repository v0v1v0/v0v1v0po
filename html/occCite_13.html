<div class="container">

<table style="width: 100%;"><tr>
<td>occQuery</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Query from Taxon List</h2>

<h3>Description</h3>

<p>Takes rectified list of specimens from
<code>studyTaxonList</code> and returns point data from
<code>rgbif</code> with metadata.
</p>


<h3>Usage</h3>

<pre><code class="language-R">occQuery(
  x = NULL,
  datasources = c("gbif", "bien"),
  GBIFLogin = NULL,
  GBIFDownloadDirectory = NULL,
  loadLocalGBIFDownload = F,
  checkPreviousGBIFDownload = T,
  options = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class <code>occCiteData</code> (the results of
a <code>studyTaxonList</code> search) OR a vector with a list of species
names. Note: If the latter, taxonomic rectification uses NCBI
taxonomies. If you want more control than this, use
<code>studyTaxonList</code> to create a <code>occCiteData</code> object
first.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>datasources</code></td>
<td>
<p>A vector of occurrence data sources to search. This is
currently limited to GBIF and BIEN, but may expand in the future.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>GBIFLogin</code></td>
<td>
<p>An object of class <code>GBIFLogin</code> to log in to
GBIF to begin the download.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>GBIFDownloadDirectory</code></td>
<td>
<p>An optional argument that specifies the local
directory where GBIF downloads will be saved. If this is not specified,
the downloads will be saved to your current working directory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loadLocalGBIFDownload</code></td>
<td>
<p>If <code>loadLocalGBIFDownload = T</code>, then
occCite will load occurrences for the specified species that have been
downloaded by the user and stored in the directory specified by
<code>GBIFDownloadDirectory</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>checkPreviousGBIFDownload</code></td>
<td>
<p>If <code>loadLocalGBIFDownload = T</code>,
occCite will check for previously-prepared GBIF downloads on the user's
GBIF account. Setting this option to 'TRUE' can significantly speed up
query time if the user has previously queried GBIF for the same taxa.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>options</code></td>
<td>
<p>A vector of options to pass to <code>occ_download</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If you are querying GBIF, note that 'occQuery()' only returns
records from GBIF that have coordinates, aren't flagged as having
geospatial issues, and have an occurrence status flagged as "PRESENT".
</p>


<h3>Value</h3>

<p>The object of class <code>occCiteData</code> supplied by the user
as an argument, with occurrence data search results, as well as metadata
on the occurrence sources queried.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
## If you have already created a occCite object, and have not previously
## downloaded GBIF data.
occQuery(
  x = myOccCiteObject,
  datasources = c("gbif", "bien"),
  GBIFLogin = myLogin,
  GBIFDownloadDirectory = "./Desktop",
  loadLocalGBIFDownload = F
)

## If you don't have an occCite object yet
occQuery(
  x = c("Buteo buteo", "Protea cynaroides"),
  datasources = c("gbif", "bien"),
  GBIFLogin = myLogin,
  GBIFDownloadDirectory = "./Desktop",
  loadLocalGBIFDownload = F
)

## If you have previously downloaded occurrence data from GBIF
## and saved it in a folder called "GBIFDownloads".
occQuery(
  x = c("Buteo buteo", "Protea cynaroides"),
  datasources = c("gbif", "bien"),
  GBIFLogin = myLogin,
  GBIFDownloadDirectory = "./Desktop/GBIFDownloads",
  loadLocalGBIFDownload = T
)

## End(Not run)

</code></pre>


</div>