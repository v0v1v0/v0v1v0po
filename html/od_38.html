<div class="container">

<table style="width: 100%;"><tr>
<td>od_to_sf</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert OD data into geographic 'desire line' objects</h2>

<h3>Description</h3>

<p>Convert OD data into geographic 'desire line' objects
</p>


<h3>Usage</h3>

<pre><code class="language-R">od_to_sf(
  x,
  z,
  zd = NULL,
  odc = NULL,
  silent = FALSE,
  filter = TRUE,
  package = "sfheaders",
  crs = 4326
)

od_to_sfc(
  x,
  z,
  zd = NULL,
  silent = TRUE,
  package = "sfheaders",
  crs = 4326,
  filter = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A data frame in which the first two columns are codes
representing points/zones of origin and destination</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>Zones representing origins and destinations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zd</code></td>
<td>
<p>Zones representing destinations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>odc</code></td>
<td>
<p>A matrix containing coordinates representing line start and end points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>
<p>Hide messages? <code>FALSE</code> by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter</code></td>
<td>
<p>Remove rows with no matches in <code>z</code>? <code>TRUE</code> by default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>package</code></td>
<td>
<p>Which package to use to create the sf object? <code>sfheaders</code> is the default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crs</code></td>
<td>
<p>The coordinate reference system of the output, if not known in <code>z</code>.
4326 by default.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">x = od_data_df
z = od_data_zones
desire_lines = od_to_sf(x, z)
desire_lines[1:3]
plot(desire_lines)
desire_lines_d = od_to_sf(od_data_df2, od_data_centroids2, od_data_destinations)
o1 = od_data_centroids2[od_data_centroids2[[1]] == od_data_df2[[1]][1], ]
d1 = od_data_destinations[od_data_destinations[[1]] == od_data_df2[[2]][1], ]
plot(desire_lines_d$geometry)
plot(od_data_centroids2$geometry, add = TRUE, col = "green")
plot(od_data_destinations$geometry, add = TRUE)
plot(o1, add = TRUE)
plot(d1, add = TRUE)
plot(desire_lines_d$geometry[1], lwd = 3, add = TRUE)
n = 7
on = od_data_centroids2[od_data_centroids2[[1]] == od_data_df2[[1]][n], ]
dn = od_data_destinations[od_data_destinations[[1]] == od_data_df2[[2]][n], ]
plot(desire_lines_d$geometry)
plot(on, add = TRUE)
plot(dn, add = TRUE)
plot(desire_lines_d$geometry[n], lwd = 3, add = TRUE)
</code></pre>


</div>