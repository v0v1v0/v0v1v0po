<div class="container">

<table style="width: 100%;"><tr>
<td>otuReport</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Summarize the community structure and abundance with OTU table
</h2>

<h3>Description</h3>

<p>The function will summarize the frequency, abundance at given taxonomic level for the input OTU table. This function could quickly give the summary information for user when adding these values in describing the community structure in a paper.
</p>


<h3>Usage</h3>

<pre><code class="language-R">otuReport(otutab, siteInCol = TRUE, taxhead = "taxonomy", platform = "mothur",
    pattern = ";", prefix = TRUE, percent = FALSE, taxlevel = "phylum",
    collap = ";")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>otutab</code></td>
<td>

<p>A OTU table of microbial community, which must contain a taxonomic column (if siteInCol) or row (if site in rows). The otu table can be given in numeric counts or in relative abundance.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>siteInCol</code></td>
<td>

<p>Logical, if "TRUE", the OTU table contains samples in columns and taxa in rows. The function will decide whether to transpose the otu table based on this parameter.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>taxhead</code></td>
<td>

<p>Character, specify the header of taxonomy. By default we assume your taxonomic column is entitled "taxonomy".
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>platform</code></td>
<td>

<p>Character, argument to specify the platform generating the otu table. Currently, the function support otu table generate by "mothur" or "qiime".
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern</code></td>
<td>

<p>Character, specify the separation of taxonomy. By default, the taxonomy is separated by semicolon (";").
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prefix</code></td>
<td>

<p>Logical, tell the function whether the output will include the prefix like "p__", "c__" for the corresponding taxonomic levels.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>percent</code></td>
<td>

<p>Logical, whether the input otu table are given in relative abundance. FALSE means that the input otu table is in numeric counts.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>taxlevel</code></td>
<td>

<p>Character, specify the taxonomic level at which you want to know for the otu table. The valid choice are c("kingdom", "phylum", "class", "order", "family", "genus", "species").
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collap</code></td>
<td>

<p>Character, tell the function about the separation for the hierarchical order in the output.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function was designed according to the structured taxonomy generated by mothur or qiime. So far, the function support the 7 levels of hierarchical taxonomy from kingdom to species.
</p>


<h3>Value</h3>

<p>If the input otu table is in counts, the function will return a list of results summarizing 9 different aspects for the microbial community as follows:

</p>
<table>
<tr style="vertical-align: top;">
<td><code>whatTaxa </code></td>
<td>
<p>The "whatTaxa" will give which lineages are present at given taxonomic level in the community.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>taxaFreqs </code></td>
<td>
<p>The element of "taxaFreqs" in the list is the frequency table of each lineage when community table were collapsed at a given taxonomic level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>taxaFrac </code></td>
<td>
<p>The "taxaFrac" element summarizes the fraction of each lineage among the total lineages at a given taxonomic level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reads </code></td>
<td>
<p>The "reads" table is the otu table in absolute counts which has been collapsed at a given taxonomic level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>readSum </code></td>
<td>
<p>The "readSum" gives the total amount of reads in each sample after the community was collapsed at given taxonomic level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>readFrac </code></td>
<td>
<p>The "readFrac" table give the fraction of reads in relation to the total counts of the whole community at given taxonomic level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>readFracSum </code></td>
<td>
<p>The "readFracSum" table give sum of reads fraction by different lineages at given taxonomic level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Relabund </code></td>
<td>
<p>The "Relabund" is the relative abundance table in percentage at given taxonomic level. If the input otu table is in absolute counts, the reads will be normalized by the total amount of reads of each sample, not the total amount of the whole community.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RelabundMean </code></td>
<td>
<p>The data "RelabundMean" in the list return the mean relative abundance of each lineage at given taxonomic level across all samples.</p>
</td>
</tr>
</table>
<p>For the relative abundance otu input, the function will omit four summary table regarding absolute reads ("reads", "readSum", "readFrac" and "readFracSum").

</p>


<h3>Author(s)</h3>

<p>Sizhong Yang &lt;yanglzu@163.com&gt;
</p>


<h3>See Also</h3>

<p>subOTU, otuCollap
</p>


<h3>Examples</h3>

<pre><code class="language-R"># summary the otu table in qiime format

data(otuqiime)

summaryInfo &lt;- otuReport(otutab = otuqiime, siteInCol = TRUE, taxhead = "taxonomy",
    platform = "qiime", pattern = ";", prefix = TRUE, percent = FALSE, taxlevel = "class")

length(summaryInfo)
names(summaryInfo)
summaryInfo[[1]]

# summary otu table in mothur format

data(otumothur)

summaryInfo &lt;- otuReport(otutab = otumothur, siteInCol = TRUE, taxhead = "taxonomy",
    platform = "mothur", pattern = ";", percent = FALSE, taxlevel = "phylum", collap = ";")

length(summaryInfo)
names(summaryInfo)
summaryInfo[[1]]

op &lt;- par(mar = c(8,6,2,1)+0.1)
bplot(summaryInfo[["taxaFreqs"]])
par(op)

# summary otu table of relative abundance

per &lt;- subOTU(otutab = otuqiime, siteInCol = TRUE, taxhead = "taxonomy",
    percent = FALSE, choose = "all", outype = "Relabund", sort = TRUE)

summaryInfo &lt;- otuReport(otutab = per, siteInCol = TRUE, taxhead = "taxonomy",
    platform = "qiime", pattern = ";", percent = TRUE, taxlevel = "class")

length(summaryInfo)
names(summaryInfo)
</code></pre>


</div>