<div class="container">

<table style="width: 100%;"><tr>
<td>otp_connect</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set up and confirm a connection to an OTP instance.</h2>

<h3>Description</h3>

<p>Defines the parameters required to connect to a router on an OTP instance
and, if required, confirms that the instance and router are query-able.
</p>


<h3>Usage</h3>

<pre><code class="language-R">otp_connect(
  hostname = "localhost",
  router = "default",
  url = NULL,
  port = 8080,
  ssl = FALSE,
  check = TRUE,
  timezone = Sys.timezone(),
  otp_version = 1.5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>hostname</code></td>
<td>
<p>A string, e.g.
"ec2-34-217-73-26.us-west-2.compute.amazonaws.com". Optional, default is
"localhost".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>router</code></td>
<td>
<p>A string, e.g. "UK2018". Optional, default is "default". OTP
can support multiple routers see advanced vignette for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>url</code></td>
<td>
<p>If a non-standard URL structure is used provide a full url,
default is NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>port</code></td>
<td>
<p>A positive integer. Optional, default is 8080.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ssl</code></td>
<td>
<p>Logical, indicates whether to use https. Optional, default is
FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>Logical. If TRUE connection object is only returned if OTP
instance and router are confirmed reachable. Optional, default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timezone</code></td>
<td>
<p>Character, timezone, defaults to local timezone</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>otp_version</code></td>
<td>
<p>Numeric, OTP Version in use default 1.5, if check is TRUE
then 'otp_check_version()' is called and otp_version is updated</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The default URL structure for the OTP API is:
http://&lt;hostname&gt;:&lt;port&gt;/otp/routers/&lt;router&gt; For example:
http://localhost:8080/otp/routers/default
</p>
<p>Functions construct the URL from the parameters provided in otpconnect
objects. However some websites hosting OTP have modified the default URL
structure. If this is the case you can use the <code>url</code> parameter to bypass
the URL construction and provide a fully formed URL. In this case the
<code>hostname</code>, <code>router</code>, <code>port</code>, and <code>ssl</code> are ignored.
</p>


<h3>Value</h3>

<p>Returns an S3 object of class otpconnect. If <code>check</code> is TRUE and
the router is not reachable the object is not returned.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
otpcon &lt;- otp_connect()
otpcon &lt;- otp_connect(
  router = "UK2018",
  ssl = TRUE
)
otpcon &lt;- otp_connect(
  hostname = "ec2.us-west-2.compute.amazonaws.com",
  router = "UK2018",
  port = 8888,
  ssl = TRUE
)
otpcon &lt;- otp_connect(
  url = "https://api.digitransit.fi:443/routing/v1/routers/hsl"
)

## End(Not run)
</code></pre>


</div>