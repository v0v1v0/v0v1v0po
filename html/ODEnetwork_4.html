<div class="container">

<table style="width: 100%;"><tr>
<td>createJacobian</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create Jacobian matrix for the parameters of the ODE.</h2>

<h3>Description</h3>

<p>Creates the Jacobian matrix for a special set of parameters of the ODE.
The first n columns contain the derivatives with respect to d_ii, 
followed by the derivatives with respect to k_ii.
The last 2*n columns include the derivatives with respect to the states.
</p>


<h3>Usage</h3>

<pre><code class="language-R">createJacobian(odenet, ParamVec = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>odenet</code></td>
<td>
<p>[<code>ODEnetwork</code>]<br>
List of class <code>ODEnetwork</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ParamVec</code></td>
<td>
<p>[<code>vector</code>] of length n<br>
Named vector to overwrite corresponding parameters (see <code>updateOscillators</code>).
Masses start with "m." followed by a number (e.g.: "m.12").
Dampers start with "d." followed by one or two numbers separated by a dot (e.g.: "d.2", "d.5.6").
Springs start with "k.", like dampers (e.g.: "k.4", "k.3.9").
The triangle elements of the dampers and springs are characterised by increasing numbers.
A name "d.3.5" is correct, in contrast to "d.5.3" which is ignored.
This is done to speed up, because the matrices are symmetric.
State1 and state2 start with "st1." or "st2." respectively, followed by a number (e.g.: "st1.15", "st2.8").
If the vector is set, the following parameters are ignored.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>the Jacobian matrix of size 2n*4n.
</p>


<h3>Examples</h3>

<pre><code class="language-R">masses &lt;- 4:6
dampers &lt;- diag(1:3)
springs &lt;- diag(7:9)
odenet &lt;- ODEnetwork(masses, dampers, springs)
position &lt;- rep(10, 3)
velocity &lt;- rep(0, 3)
odenet &lt;- setState(odenet, position, velocity)
jac &lt;- createJacobian(odenet)
</code></pre>


</div>