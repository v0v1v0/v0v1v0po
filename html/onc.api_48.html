<div class="container">

<table style="width: 100%;"><tr>
<td>DataProductFile-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>DataProductFile class</h2>

<h3>Description</h3>

<p>Encapsulates the download of a single data product file, and the handling
of the server polling and error codes.
</p>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dpRunId</code></td>
<td>
<p>Run Id of a data product request that was run</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>Index of this object's file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>baseUrl</code></td>
<td>
<p>From the Onc class</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>token</code></td>
<td>
<p>From the Onc class
Downloads this data product file
</p>
<p>Can poll, wait and retry if the file is not ready to download</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>When TRUE, existing files will be overwritten, otherwise they are skipped</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeout, pollPeriod, outPath, maxRetries</code></td>
<td>
<p>Same as in the Onc class</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>response</code></td>
<td>
<p>The successful (200) httr response obtained from a download request</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>(integer) the final response's HTTP status code
Return the file name from the response
</p>
<p>(string) The filename as obtained from the headers
Return information on this download's outcome
</p>
<p>(list) A named list with information on the download result
Sets this object's status to 200 (complete)
Used by onc_delivery methods
</p>


<h3>Fields</h3>


<dl>
<dt><code>.filters</code></dt>
<dd>
<p>The list of filters to pass to the download API method</p>
</dd>
<dt><code>.retries</code></dt>
<dd>
<p>Total count of HTTP requests made by this object</p>
</dd>
<dt><code>.status</code></dt>
<dd>
<p>Last request's HTTP status code</p>
</dd>
<dt><code>.downloaded</code></dt>
<dd>
<p>TRUE if the file was downloaded from the API</p>
</dd>
<dt><code>.baseUrl</code></dt>
<dd>
<p>Same as in the Onc class</p>
</dd>
<dt><code>.downloadUrl</code></dt>
<dd>
<p>URL that downloads this file</p>
</dd>
<dt><code>.fileName</code></dt>
<dd>
<p>Filename of the file if downloaded &amp; saved</p>
</dd>
<dt><code>.fileSize</code></dt>
<dd>
<p>Size in bytes of the file if downloaded &amp; saved</p>
</dd>
<dt><code>.runningTime</code></dt>
<dd>
<p>Total time spent running (sec)</p>
</dd>
<dt><code>.downloadingTime</code></dt>
<dd>
<p>Total time spend downloading (sec)
Class initializer</p>
</dd>
</dl>
</div>