<div class="container">

<table style="width: 100%;"><tr>
<td>optgs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Finding optimal and balanced group-sequential designs
</h2>

<h3>Description</h3>

<p>optgs is used to find a one-sided multi-stage design that balances four optimality criteria for a RCT with normally distributed outcomes
</p>


<h3>Usage</h3>

<pre><code class="language-R">optgs(delta0 = 0, delta1 = 1/3, J = 2, sigma = 1, sd.known = TRUE,
    alpha = 0.05, power = 0.9, weights = c(0.95, 0, 0, 0.05),
    initial = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>delta0</code></td>
<td>
<p>mean difference in treatment effect under the null hypothesis (default: 0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta1</code></td>
<td>
<p>clinically relevant difference used to power the trial (default: 1/3)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>J</code></td>
<td>
<p>number of stages in the trial (default: 2)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma</code></td>
<td>
<p>assumed standard deviation of treatment responses (default: 1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sd.known</code></td>
<td>
<p>logical value indicating if sigma will be treated as known; if FALSE, a quantile substitution method will be used to modify the stopping boundaries (default TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>one-sided type-I error rate required (default: 0.05)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>
<p>power required (default: 0.9)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>vector of length 4 giving the weights put on the four optimality criteria (default: c(0.95,0,0,0.05)). See details for more information</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initial</code></td>
<td>
<p>starting values for the Nelder-Mead algorithm if the user wishes to override the default (default: NULL). Initial values must be specified as a two-dimensional vector where both entries are between -0.5 and 0.5.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>optgs uses the extended power-family of group-sequential tests, and searches for the values of the futility and efficacy shape parameters that optimise the specified weighting. A description of the extended power-family and optgs is provided in Wason (2012). The ‘weights’ argument corresponds to the weight put on: 1) the expected sample size at delta=delta0; 2) the expected sample size at delta=delta1; 3) the maximum expected sample size; 4) the maximum sample size (i.e. J*groupsize).</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>groupsize</code></td>
<td>
<p>the number of patients required per arm, per stage</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>futility</code></td>
<td>
<p>the futility boundaries for the design</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>efficacy</code></td>
<td>
<p>the efficacy boundaries for the design</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ess</code></td>
<td>
<p>the expected sample size at the delta0; the expected sample size at the delta1; and the maximum expected sample size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>typeIerror</code></td>
<td>
<p>the actual type-I error rate of the design</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>
<p>the actual power of the design</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Wason, J.M.S. OptGS: an R package for finding near-optimal
group-sequential designs. Journal of Statistical Software, 66(2),
1-13. https://www.jstatsoft.org/v66/i02/</p>


<h3>Examples</h3>

<pre><code class="language-R">##Find a three-stage design that minimises the maximum expected sample size.
threestagedeltaminimax=optgs(J=3,weights=c(0,0,1,0)) 
plot(threestagedeltaminimax)
</code></pre>


</div>