<div class="container">

<table style="width: 100%;"><tr>
<td>Rcgminb</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>An R implementation of a bounded nonlinear conjugate gradient algorithm 
with the Dai / Yuan update and restart. Based on Nash (1979) Algorithm 22 
for its main structure. CALL THIS VIA <code>Rcgmin</code> AND DO NOT USE DIRECTLY.</h2>

<h3>Description</h3>

<p>The purpose of <code>Rcgminb</code> is to minimize a bounds (box) and mask 
constrained function 
of many parameters by a nonlinear conjugate gradients method. This code is
entirely in R to allow users to explore and understand the method. It 
allows bounds (or box) constraints and masks (equality constraints) to be
imposed on parameters. 
</p>
<p>This code should be called through <code>Rcgmin</code> which selects <code>Rcgminb</code>
or <code>Rcgminu</code> according to the presence of bounds and masks.
</p>


<h3>Usage</h3>

<pre><code class="language-R">   Rcgminb(par, fn, gr, lower, upper, bdmsk, control = list(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>par</code></td>
<td>
<p>A numeric vector of starting estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fn</code></td>
<td>
<p>A function that returns the value of the objective at the
supplied set of parameters <code>par</code> using auxiliary data in ....
The first argument of <code>fn</code> must be <code>par</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gr</code></td>
<td>
<p>A function that returns the gradient of the objective at the
supplied set of parameters <code>par</code> using auxiliary data in ....
The first argument of <code>fn</code> must be <code>par</code>. This function 
returns the gradient as a numeric vector.
</p>
<p>The use of numerical gradients for Rcgminb is STRONGLY discouraged.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower</code></td>
<td>
<p>A vector of lower bounds on the parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upper</code></td>
<td>
<p>A vector of upper bounds on the parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bdmsk</code></td>
<td>
<p>An indicator vector, having 1 for each parameter that is "free" or
unconstrained, and 0 for any parameter that is fixed or MASKED for the
duration of the optimization.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>

<p>An optional list of control settings.  
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments to be passed to <code>fn</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Functions <code>fn</code> must return a numeric value.
</p>
<p>The <code>control</code> argument is a list.
</p>

<dl>
<dt>maxit</dt>
<dd>
<p>A limit on the number of iterations (default 500). Note that this is 
used to compute a quantity <code>maxfeval</code>&lt;-round(sqrt(n+1)*maxit) where n is the
number of parameters to be minimized.</p>
</dd>
<dt>trace</dt>
<dd>
<p>Set 0 (default) for no output, &gt;0 for trace output
(larger values imply more output).</p>
</dd>
<dt>eps</dt>
<dd>
<p>Tolerance used to calculate numerical gradients. Default is 1.0E-7. See 
source code for <code>Rcgminb</code> for details of application.</p>
</dd>
<dt><code>dowarn</code></dt>
<dd>
<p>= TRUE if we want warnings generated by optimx. Default is 
TRUE.</p>
</dd>
<dt>Note:</dt>
<dd>
<p>The source code <code>Rcgminb</code> for R is likely to remain a work in progress for some time, 
so users should watch the console output.</p>
</dd>
</dl>
<p>As of 2011-11-21 the following controls have been REMOVED
</p>

<dl>
<dt>usenumDeriv</dt>
<dd>
<p>There is now a choice of numerical gradient routines. See argument 
<code>gr</code>.</p>
</dd>
<dt>maximize</dt>
<dd>
<p>To maximize user_function, supply a function that computes (-1)*user_function.
An alternative is to call Rcgmin via the package optimx.</p>
</dd>
</dl>
<h3>Value</h3>

<p>A list with components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>par</code></td>
<td>
<p>The best set of parameters found.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>The value of the objective at the best set of parameters found.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>counts</code></td>
<td>
<p>A two-element integer vector giving the number of calls to
'fn' and 'gr' respectively. This excludes those calls needed
to compute the Hessian, if requested, and any calls to 'fn'
to compute a finite-difference approximation to the gradient.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>convergence</code></td>
<td>
<p>An integer code. 
'0' indicates successful convergence.
'1' indicates that the function evaluation count 'maxfeval' was reached.
'2' indicates initial point is infeasible.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>message</code></td>
<td>
<p>A character string giving any additional information returned
by the optimizer, or 'NULL'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bdmsk</code></td>
<td>
<p>Returned index describing the status of bounds and masks at the
proposed solution. Parameters for which bdmsk are 1 are unconstrained
or "free", those with bdmsk 0 are masked i.e., fixed. For historical
reasons, we indicate a parameter is at a lower bound using -3 
or upper bound using -1.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>See <code>Rcgmin</code> documentation. Note that bounds and masks were adapted 
from the work by Nash and Walker-Smith(1987).
</p>


<h3>See Also</h3>

<p><code>optim</code></p>


</div>